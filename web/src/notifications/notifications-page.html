
<dom-module id="ghvz-notifications-page">
<script>
  // Not sure why this HTMLImports.whenReady is really needed.
  // Something about polymer initialization order.
  // I think we're not supposed to need this.
  HTMLImports.whenReady(() => {
    Polymer({
      is: 'ghvz-notifications-page',

      properties: {
        bridge: Object,

        game: Object,
        player: Object,

        path: String,
      },

      computeExpanded_(notificationId, path) {
        return path.slice(-1)[0] == notificationId;
      },
    });
  });
</script>
<style>
  :host {
    display: block;
  }
</style>
<template>
  <template is="dom-repeat" items="[[player.notifications]]" as="notification">
    <ghvz-expandable-notification
        bridge="[[bridge]]"
        player="[[player]]"
        game="[[game]]"
        notification="[[notification]]"
        expanded="[[computeExpanded_(notification.id, path)]]">
    </ghvz-expandable-notification>
  </template>
</template>
</dom-module>